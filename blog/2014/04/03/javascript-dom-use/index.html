<p>JavaScript DOM基础操作实例</p>

<p>文档对象模型(Document Object Model)，通常简称为DOM，是网站内容与JavaScript互通的接口。自JavaScript成为最常用的语言时JavaScript和DOM通常被视为独立的实体。DOM接口用于存取、遍历和控制HTML和XML文档。下面我们将简单的介绍一些JavaScript DOM的基本操作实例，包括建立、增加、删除、克隆、访问节点等等。</p>

<h2>getElementById(id)</h2>

<p>这是通过<code>id</code>来访问某一元素，最常用的之一，例：</p>

<pre><code>&lt;html&gt; 
         &lt;body&gt; 
         &lt;div id="myid"&gt; 
         test  
         &lt;/div&gt; 
         &lt;script language="javascript"&gt; 
         alert(document.getElementById("myid").innerHTML);  
         &lt;/script&gt; 
         &lt;/body&gt; 
&lt;/html&gt; 
</code></pre>

<p>注意点：如果元素的<code>ID</code>不是唯一，则会取得第一个该<code>ID</code>名称的元素。</p>

<h2>getElementsByName(name)</h2>

<p>这是通过<code>name</code>来取得某一堆元素（作为数组），看 <code>Element</code>后面有个小<code>s</code>就知道了，<code>ID</code>是<code>HTML</code>文档中要求唯一的，<code>name</code>可以不是唯一，如<code>checkbox</code>、<code>radio</code>等地方会用到多个<code>input</code>用同一个<code>name</code>来识别是否为同党。对了，<code>getElementsByName(name)</code>仅用于取得<code>input</code>、<code>radio</code>、 <code>checkbox</code>等元素，如</p>

<pre><code>&lt;input name="myradio" type="radio" /&gt;。
</code></pre>

<h2>getElementsByTagName(tagname)</h2>

<p>看这方法就知道这也是取得某一堆元素（作为数组），是通过<code>TagName</code>也就是标签名来取得。你可以遍历这个数组获得每一个单独的元素。当一个<code>DOM</code>结构很大时，可以通过它来有效地缩小搜查范围。</p>

<pre><code>&lt;html&gt;           
     &lt;head&gt; 
     &lt;script&gt; 
     function test() {  
     testall=document.getElementsByTagName("body");  
     testbody=testall.item(0); //获得所有tagName是body的元素（当然每个页面只有一个）  
     testall=testbody.getElementsByTagName("p");// 获得body子元素种的所有P元素  
     testnode=testall.item(1); // 获得第二个P元素           
     alert(testnode.firstChild.nodeValue); //显示这个元素的文本         }  
     &lt;/script&gt; 
     &lt;/head&gt; 
     &lt;body&gt; 
     &lt;p&gt;hi&lt;/p&gt; 
     &lt;p&gt;hello&lt;/p&gt; 
     &lt;script language="javascript"&gt; 
     test();  
     &lt;/script&gt; 
     &lt;/body&gt; 
&lt;/html&gt; 
</code></pre>

<h2>appendChild(node)</h2>

<p>向当前的元素（应该叫对象比较恰当）追加节点。</p>

<pre><code>&lt;html&gt; 
     &lt;body&gt; 
     &lt;head&gt; 
     &lt;/head&gt; 
     &lt;div id="test"&gt;&lt;/div&gt; 
     &lt;script type="text/javascript"&gt; 
     var newdiv=document.createElement("div")  
     var newtext=document.createTextNode("A new div")           
     newdiv.appendChild(newtext)  
     document.getElementById("test").appendChild(newdiv)  
     &lt;/script&gt; 
     &lt;/body&gt; 
&lt;/html&gt; 
</code></pre>

<p>刚才我在第一个例子中为了显示出内容，用了<code>innerHTML</code>，刚才看到文章才得知<code>innerHTMl</code>不属于<code>DOM</code>。</p>

<h2>removeChild(childreference)</h2>

<p>删除当前节点的子节点，返回被删除的节点。这个被删除的节点可以被插入到别的地方。</p>

<pre><code>&lt;html&gt; 
     &lt;body&gt; 
     &lt;div id="parent"&gt;&lt;div id="child"&gt;A child&lt;/div&gt;&lt;/div&gt; 
     &lt;script language="javascript"&gt; 
     var childnode=document.getElementById("child")  
     var removednode=document.getElementById("parent").removeChild(childnode)  
     &lt;/script&gt; 
     &lt;/body&gt; 
&lt;/html&gt; 
</code></pre>

<h2>cloneNode(deepBoolean)</h2>

<p>复制并返回当前节点的复制节点，复制节点是一个孤立节点，它复制了原节点的属性，在把这个新节点加入到<code>document</code>前，根据需要修改<code>ID</code>属性确保其<code>ID</code>的唯一。这个方法支持一个布尔参数，当<code>deepBoolean</code>设置<code>true</code>时，复制当前节点的所有子节点，包括该节点内的文本。</p>

<pre><code>&lt;html&gt; 
     &lt;body&gt; 
     &lt;p id="mynode"&gt;test&lt;/p&gt; 
     &lt;script language="javascript"&gt; 
     p=document.getElementById("mynode")   
    ppclone = p.cloneNode(true);  
     p.parentNode.appendChild(pclone);  
     &lt;/script&gt; 
     &lt;/body&gt; 
&lt;/html&gt; 
</code></pre>

<h2>replaceChild(newChild, oldChild)</h2>

<p>把当前节点的一个子节点换成另一个节点。</p>

<pre><code>&lt;html&gt; 
     &lt;body&gt; 
     &lt;div id="mynode2"&gt; 
     &lt;span id="orispan"&gt;span&lt;/span&gt; 
     &lt;/div&gt; 
     &lt;script language="javascript"&gt; 
     var orinode=document.getElementById("orispan");  
     var newnode=document.createElement("p");  
     var text=document.createTextNode("test ppp ");  
     newnode.appendChild(text);  
     document.getElementById("mynode2").replaceChild(newnode, orinode);  
     &lt;/script&gt; 
     &lt;/body&gt; 
&lt;/html&gt; 
</code></pre>
